<!DOCTYPE html>
<html lang = "ko">
<head>
<meta charset="UTF-8">
<meta http-equiv ="X-UA-compatible" content = "IE = edge, chrome = 1">
<meta name ="viewport" content = "width=device-width, initial-scale=1.0">
<title>AJAX 1일차 XML파일 로드</title>
<!-- AJAX(비동기) 비동기 통신을 기본으로 하는 통신언어 + JS, JQUERY(AJAX는 코드가 다름) -->
		<!-- (Socket.io + node.js) -->
<!-- AJAX(동기화) : node.js (async) 를 쓰면 (동기화 통신) -->
<!-- 
	동기화(sync) 통신: 순서대로 프로세서가 진행 되었다는 뜻
	장점 : 문제 위치 파악 빠르게 가능
	동기화의 단점: 프로세스 진행이 느리다.
	
	비동기화(async) 통신: 실시간 통신
	비동기화 단점: 버그가 발생시 버그 위치를 정확히 파악하기 어려움 
 -->
</head>
<body>
<input type = "button" value = "통신" onclick = "ajax();">
</body>
<script>
	let data; //ajax를 통한 데이터 값을 저장하기 위한 변수
	function ajax() {
		function wck() {	//접속방식을 설정
			if(window.XMLHttpRequest){	//현재창에 통신함수 적용
				return new XMLHttpRequest();	//통신언어를 사용하겠다는 선언문(무조건 있어야함)
			}
		}
		function fileopen() {	//통신 성공 유/무 및 데이터 로드
			if(data.readyState == XMLHttpRequest.DONE && data.status == 200){
				//status(200) : 해당 파일을 정상적으로 resource, 즉 전송 함 및 올바르게 수행했다는 번호.
				console.log(this.responseXML);
			}
		}
		data = wck();	//통신 선언 함수를 data라는 변수로 전달
		data.onreadystatechange = fileopen;		//해당 파일 상태가 올바른지 파악
		data.open("GET","./test.xml",true); 	//get post put 있음
		data.send();	//해당 통신 파일 체크하여 해당 정보를 비동기로 적용
	}

</script>
</html>