<!DOCTYPE html>
<html lang = "ko">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-compatible" content="IE=edge, chrome=1">
<meta name ="viewport" content="width=device-width,initial-scale=1.0">
<title>20220728_JQuery 2일차 form post전송 + (backend)배열로 받기</title>
<script src = "./js/jquery.js"></script>	<!-- 항상 가장 상단에 있어야 함 -->
<script src = "./js/jquery-ui.js"></script>
<link rel = "stylesheet" type="text/css" href="./js/jquery-ui.css"></link>
<script>
	//ajax는 값이 많이 없을때 쓰이고(아이디 중복체크,휴대폰 인증번호 등)값이 많으면 form으로 넘긴다.
	
	$(function() {
		
		//is를 사용하여 radio,checkbox(true,false)확인
		$("#okbtn").click(function() {
// 			var $ck = $("#like1").is(":checked");
			var $ea = $(".ck").length;		//클래스로 선택지 개수(배열길이) 확인 
			
			var $w=1;
			var $ct = 0;
	         do{
	            var $nm = "#like"+$w;
// 	            $($nm).attr("checked","true"); //전체 체크박스에 적용

				if($("#like"+$w).is(":checked") == true){
					$ct++;
				}

	            $w++;
	         }while($w <= $ea);
	         if($ct==0){
	        	 alert("한가지라도 선택하셔야합니다.")
	         }
	         else{
	        	 f.method = "POST";
	        	 f.action = "test3.do";
	        	 f.enctype = "application/x-www-form-urlencoded";
	        	 f.submit();
	         }
			
		});
		
		//name값이 같을 경우
		$("#okbtn2").click(function() {
			var $ea = $(".ck").length;
			var $w=0;
			var $ct=0;
			
			while($w < $ea){
				//jquery eq는 = javascript [] 와 같다. abc.eq(0) = abc[0]
// 				console.log($(".ck").eq($w).is(":checked"));
				
				if($(".ck").eq($w).is(":checked")== true){
					$ct++;
				}
				$w++;
			}
			if($ct==0){
	        	 alert("한가지라도 선택하셔야합니다.")
	         }
	         else{
	        	 f.method = "POST";
	        	 f.action = "test3.do";
	        	 f.enctype = "application/x-www-form-urlencoded";
	        	 f.submit();
	         }	
		});
	});

</script>
</head>
<body>
<!-- <form name="f" id="f"> -->
<!-- <p><b>좋아하는 운동 경기를 고르세요.</b></p> -->
<!-- 야구<input type= "checkbox" name="like1" id="like1" class = "ck" value="야구"><br> -->
<!-- 축구<input type= "checkbox" name="like2" id="like2" class = "ck" value="축구"><br> -->
<!-- 농구<input type= "checkbox" name="like3" id="like3" class = "ck" value="농구"><br> -->
<!-- 배구<input type= "checkbox" name="like4" id="like4" class = "ck" value="배구"><br> -->
<!-- 탁구<input type= "checkbox" name="like5" id="like5" class = "ck" value="탁구"><br> -->
<!-- <input type = "button" value="확인" id="okbtn"> -->
<!-- </form> -->


<!-- name이 같은경우 [배열로]-->
<form name="f" id="f">
<p><b>좋아하는 운동 경기를 고르세요.</b></p>
야구<input type= "checkbox" name="like" id="like1" class = "ck" value="야구"><br>
축구<input type= "checkbox" name="like" id="like2" class = "ck" value="축구"><br>
농구<input type= "checkbox" name="like" id="like3" class = "ck" value="농구"><br>
배구<input type= "checkbox" name="like" id="like4" class = "ck" value="배구"><br>
탁구<input type= "checkbox" name="like" id="like5" class = "ck" value="탁구"><br>
<input type = "button" value="확인2" id="okbtn2">
</form>

</body>
</html>